var voluntary_model_formula = function(d){
  var logit = -2.2107, 
      grade_by_step = {
      	'ALL OTHER 610': 0.4836,
      	'ALL OTHER 620': 0.8094,
      	'ALL OTHER 621': 0.6404,
      	'occ_610_grade_1_step_10': 0.6178,
      	'occ_610_grade_1_step_11': 0.5742,
      	'occ_610_grade_1_step_12': 0.48,
      	'occ_610_grade_1_step_13': 0.2118,
      	'occ_610_grade_1_step_14': 0.2952,
      	'occ_610_grade_1_step_X': 0.3246,
      	'occ_610_grade_1_step_02': 0.9309,
      	'occ_610_grade_1_step_03': 0.8102,
      	'occ_610_grade_1_step_04': 0.7382,
      	'occ_610_grade_1_step_05': 0.7142,
      	'occ_610_grade_1_step_06': 0.8313,
      	'occ_610_grade_1_step_07': 0.643,
      	'occ_610_grade_1_step_08': 0.6584,
      	'occ_610_grade_1_step_09': 0.5491,
      	'occ_610_grade_1_step_01': 0.9342,
      	'occ_610_grade_2_step_10': 0.2327,
      	'occ_610_grade_2_step_11': 0.0289,
      	'occ_610_grade_2_step_12': -0.2757,
      	'occ_610_grade_2_step_13': 0.1981,
      	'occ_610_grade_2_step_14': -0.132,
      	'occ_610_grade_2_step_X': 0.0971,
      	'occ_610_grade_2_step_02': 0.5323,
      	'occ_610_grade_2_step_03': 0.611,
      	'occ_610_grade_2_step_04': 0.5411,
      	'occ_610_grade_2_step_05': 0.4929,
      	'occ_610_grade_2_step_06': 0.3323,
      	'occ_610_grade_2_step_07': 0.3465,
      	'occ_610_grade_2_step_08': 0.1242,
      	'occ_610_grade_2_step_09': 0.159,
      	'occ_610_grade_2_step_01': 0.5959,
      	'occ_610_grade_3_step_10': 0.3638,
      	'occ_610_grade_3_step_11': -0.3176,
      	'occ_610_grade_3_step_12': 0.0858,
      	'occ_610_grade_3_step_13': -0.8279,
      	'occ_610_grade_3_step_14': -0.2539,
      	'occ_610_grade_3_step_X': 0.0144,
      	'occ_610_grade_3_step_02': 0.6545,
      	'occ_610_grade_3_step_03': 0.5432,
      	'occ_610_grade_3_step_04': 0.5145,
      	'occ_610_grade_3_step_05': 0.7369,
      	'occ_610_grade_3_step_06': 0.6257,
      	'occ_610_grade_3_step_07': 0.2722,
      	'occ_610_grade_3_step_08': 0.391,
      	'occ_610_grade_3_step_09': 0.1421,
      	'occ_610_grade_3_step_01': 0.5277,
      	'occ_610_grade_4_step_10': -0.5323,
      	'occ_610_grade_4_step_11': -0.4606,
      	'occ_610_grade_4_step_12': -0.3316,
      	'occ_610_grade_4_step_13': -6.405,
      	'occ_610_grade_4_step_14': -5.4863,
      	'occ_610_grade_4_step_X': -8.7614,
      	'occ_610_grade_4_step_02': 1.0355,
      	'occ_610_grade_4_step_03': 1.0369,
      	'occ_610_grade_4_step_04': 0.4033,
      	'occ_610_grade_4_step_05': 0.4804,
      	'occ_610_grade_4_step_06': 0.3809,
      	'occ_610_grade_4_step_07': -0.4135,
      	'occ_610_grade_4_step_08': -1.1446,
      	'occ_610_grade_4_step_09': 0.6433,
      	'occ_610_grade_4_step_01': 0.3193,
      	'occ_620_grade_4_step_10': 0.3974,
      	'occ_620_grade_4_step_02': 0.6454,
      	'occ_620_grade_4_step_03': 0.7621,
      	'occ_620_grade_4_step_04': 0.7865,
      	'occ_620_grade_4_step_05': 0.6842,
      	'occ_620_grade_4_step_06': 0.8683,
      	'occ_620_grade_4_step_07': 0.7654,
      	'occ_620_grade_4_step_08': 1.0047,
      	'occ_620_grade_4_step_09': 2.4606,
      	'occ_620_grade_4_step_01': 0.8828,
      	'occ_620_grade_5_step_10': 0.1853,
      	'occ_620_grade_5_step_02': 0.44,
      	'occ_620_grade_5_step_03': 0.3501,
      	'occ_620_grade_5_step_04': 0.521,
      	'occ_620_grade_5_step_05': 0.4305,
      	'occ_620_grade_5_step_06': 0.1694,
      	'occ_620_grade_5_step_07': 0.4544,
      	'occ_620_grade_5_step_08': 0.1408,
      	'occ_620_grade_5_step_09': 0.3552,
      	'occ_620_grade_5_step_01': 0.7367,
      	'occ_620_grade_6_step_10': -0.411,
      	'occ_620_grade_6_step_02': 0.4011,
      	'occ_620_grade_6_step_03': 0.5067,
      	'occ_620_grade_6_step_04': 0.3369,
      	'occ_620_grade_6_step_05': 0.2478,
      	'occ_620_grade_6_step_06': 0.1507,
      	'occ_620_grade_6_step_07': 0.0581,
      	'occ_620_grade_6_step_08': -0.1232,
      	'occ_620_grade_6_step_09': -0.1667,
      	'occ_620_grade_6_step_01': 0.8893,
      	'occ_621_grade_4_step_10': 0.0604,
      	'occ_621_grade_4_step_X': -8.7568,
      	'occ_621_grade_4_step_02': 0.184,
      	'occ_621_grade_4_step_03': 0.2657,
      	'occ_621_grade_4_step_04': 0.1692,
      	'occ_621_grade_4_step_05': 0.7117,
      	'occ_621_grade_4_step_06': -0.2789,
      	'occ_621_grade_4_step_07': -1.1712,
      	'occ_621_grade_4_step_08': 0.237,
      	'occ_621_grade_4_step_09': 0.3311,
      	'occ_621_grade_4_step_01': 0.4141,
      	'occ_621_grade_5_step_10': 0.4972,
      	'occ_621_grade_5_step_02': -0.0262,
      	'occ_621_grade_5_step_03': 0.5014,
      	'occ_621_grade_5_step_04': -0.1333,
      	'occ_621_grade_5_step_05': -0.4654,
      	'occ_621_grade_5_step_06': -0.675,
      	'occ_621_grade_5_step_07': -0.6785,
      	'occ_621_grade_5_step_08': 0.2707,
      	'occ_621_grade_5_step_09': 0.3191,
      	'occ_621_grade_5_step_01': 0.2259,
      	'occ_621_grade_6_step_02': -0.0072,
      	'occ_621_grade_6_step_03': -0.0354,
      	'occ_621_grade_6_step_04': -1.5015,
      	'occ_621_grade_6_step_05': 0.4583,
      	'occ_621_grade_6_step_06': -3.8282,
      	'occ_621_grade_6_step_07': 1.6928,
      	'occ_621_grade_6_step_08': -0.7929,
      	'occ_621_grade_6_step_09': -0.3857,
      	'occ_621_grade_6_step_01': -0.9346
      },
      grade_by_step_X_aptyrs = {
      	'ALL OTHER 610': -0.0876,
      	'ALL OTHER 620': -0.0217,
      	'ALL OTHER 621': -0.0184,
      	'occ_610_grade_1_step_01': -0.0758,
      	'occ_610_grade_1_step_02': -0.041,
      	'occ_610_grade_1_step_03': 0.0357,
      	'occ_610_grade_1_step_04': 0.0117,
      	'occ_610_grade_1_step_05': 0.0249,
      	'occ_610_grade_1_step_06': 0.0003,
      	'occ_610_grade_1_step_07': 0.0342,
      	'occ_610_grade_1_step_08': 0.0136,
      	'occ_610_grade_1_step_09': 0.0228,
      	'occ_610_grade_1_step_10': 0.0229,
      	'occ_610_grade_1_step_11': 0.0322,
      	'occ_610_grade_1_step_12': 0.0295,
      	'occ_610_grade_1_step_13': 0.0776,
      	'occ_610_grade_1_step_14': 0.015,
      	'occ_610_grade_1_step_X': 0.0099,
      	'occ_610_grade_2_step_01': 0.0215,
      	'occ_610_grade_2_step_02': 0.0504,
      	'occ_610_grade_2_step_03': -0.0109,
      	'occ_610_grade_2_step_04': 0.0109,
      	'occ_610_grade_2_step_05': -0.0065,
      	'occ_610_grade_2_step_06': 0.0158,
      	'occ_610_grade_2_step_07': 0.0063,
      	'occ_610_grade_2_step_08': 0.0135,
      	'occ_610_grade_2_step_09': 0.0052,
      	'occ_610_grade_2_step_10': -0.0317,
      	'occ_610_grade_2_step_11': -0.0114,
      	'occ_610_grade_2_step_12': 0.0131,
      	'occ_610_grade_2_step_13': -0.0357,
      	'occ_610_grade_2_step_14': 0.0042,
      	'occ_610_grade_2_step_X': 0.0275,
      	'occ_610_grade_3_step_01': -0.0481,
      	'occ_610_grade_3_step_02': 0.0172,
      	'occ_610_grade_3_step_03': 0.0065,
      	'occ_610_grade_3_step_04': 0.0159,
      	'occ_610_grade_3_step_05': -0.0482,
      	'occ_610_grade_3_step_06': -0.0072,
      	'occ_610_grade_3_step_07': 0.0128,
      	'occ_610_grade_3_step_08': -0.0002,
      	'occ_610_grade_3_step_09': -0.0293,
      	'occ_610_grade_3_step_10': -0.0282,
      	'occ_610_grade_3_step_11': 0.047,
      	'occ_610_grade_3_step_12': 0.0019,
      	'occ_610_grade_3_step_13': 0.0654,
      	'occ_610_grade_3_step_14': 0.0083,
      	'occ_610_grade_3_step_X': -0.0442,
      	'occ_610_grade_4_step_01': -0.0586,
      	'occ_610_grade_4_step_02': -0.1533,
      	'occ_610_grade_4_step_03': -0.0996,
      	'occ_610_grade_4_step_04': 0.0591,
      	'occ_610_grade_4_step_05': -0.0881,
      	'occ_610_grade_4_step_06': -0.0314,
      	'occ_610_grade_4_step_07': 0.1162,
      	'occ_610_grade_4_step_08': -0.2377,
      	'occ_610_grade_4_step_09': -0.1088,
      	'occ_610_grade_4_step_10': 0.091,
      	'occ_610_grade_4_step_11': -0.0717,
      	'occ_610_grade_4_step_12': 0.0128,
      	'occ_610_grade_4_step_13': 0.2093,
      	'occ_610_grade_4_step_14': 0.1393,
      	'occ_610_grade_4_step_X': 0.1997,
      	'occ_620_grade_4_step_01': 0.042,
      	'occ_620_grade_4_step_02': 0.2097,
      	'occ_620_grade_4_step_03': 0.0498,
      	'occ_620_grade_4_step_04': -0.0121,
      	'occ_620_grade_4_step_05': 0.0016,
      	'occ_620_grade_4_step_06': 0.0502,
      	'occ_620_grade_4_step_07': -0.0153,
      	'occ_620_grade_4_step_08': -0.3715,
      	'occ_620_grade_4_step_09': -1.9651,
      	'occ_620_grade_4_step_10': -0.2313,
      	'occ_620_grade_5_step_01': -0.0064,
      	'occ_620_grade_5_step_02': 0.0709,
      	'occ_620_grade_5_step_03': 0.136,
      	'occ_620_grade_5_step_04': 0.0865,
      	'occ_620_grade_5_step_05': 0.0757,
      	'occ_620_grade_5_step_06': 0.1218,
      	'occ_620_grade_5_step_07': 0.0521,
      	'occ_620_grade_5_step_08': 0.0646,
      	'occ_620_grade_5_step_09': 0.0072,
      	'occ_620_grade_5_step_10': 0.0277,
      	'occ_620_grade_6_step_01': -0.2819,
      	'occ_620_grade_6_step_02': 0.0303,
      	'occ_620_grade_6_step_03': -0.0603,
      	'occ_620_grade_6_step_04': -0.0273,
      	'occ_620_grade_6_step_05': 0.068,
      	'occ_620_grade_6_step_06': 0.0238,
      	'occ_620_grade_6_step_07': 0.0429,
      	'occ_620_grade_6_step_08': 0.0237,
      	'occ_620_grade_6_step_09': 0.0488,
      	'occ_620_grade_6_step_10': 0.0599,
      	'occ_621_grade_4_step_01': -0.0647,
      	'occ_621_grade_4_step_02': 0.1226,
      	'occ_621_grade_4_step_03': 0.1177,
      	'occ_621_grade_4_step_04': -0.0068,
      	'occ_621_grade_4_step_05': -0.0402,
      	'occ_621_grade_4_step_06': 0.0385,
      	'occ_621_grade_4_step_07': 0.1977,
      	'occ_621_grade_4_step_08': 0.0718,
      	'occ_621_grade_4_step_09': 0.0519,
      	'occ_621_grade_4_step_10': 0.0701,
      	'occ_621_grade_4_step_X': 0.4736,
      	'occ_621_grade_5_step_01': 0.047,
      	'occ_621_grade_5_step_02': 0.1248,
      	'occ_621_grade_5_step_03': -0.0977,
      	'occ_621_grade_5_step_04': 0.064,
      	'occ_621_grade_5_step_05': 0.0994,
      	'occ_621_grade_5_step_06': 0.1167,
      	'occ_621_grade_5_step_07': 0.1034,
      	'occ_621_grade_5_step_08': -0.0222,
      	'occ_621_grade_5_step_09': 0.0136,
      	'occ_621_grade_5_step_10': 0.0131,
      	'occ_621_grade_6_step_01': 0.3538,
      	'occ_621_grade_6_step_02': -0.2968,
      	'occ_621_grade_6_step_03': -0.1506,
      	'occ_621_grade_6_step_04': 0.2264,
      	'occ_621_grade_6_step_05': -0.0548,
      	'occ_621_grade_6_step_06': 0.0993,
      	'occ_621_grade_6_step_07': -0.1478,
      	'occ_621_grade_6_step_08': 0.0844,
      	'occ_621_grade_6_step_09': 0.0776
      },
      performance = {
        'High': -0.6089,
        'Low': 0.8566,
        'Moderate': -0.2033
      },
      vamc = {
        'Albuquerque, NM': 0.2709,
        'Alexandria, LA': -0.2689,
        'All Others': -0.4832,
        'Altoona, PA': -0.1717,
        'Amarillo, TX': 0.7081,
        'Anchorage, AK': 0.3771,
        'Ann Arbor, MI': 0.1162,
        'Asheville, NC': -0.3102,
        'Atlanta {Decatur}, GA': -0.2751,
        'Augusta, GA': 0.2094,
        'Baltimore HCS, MD': -0.0566,
        'Battle Creek, MI': 0.1438,
        'Bay Pines, FL': 0.0704,
        'Beckley, WV': -0.4991,
        'Bedford, MA': -0.1865,
        'Big Spring, TX': 0.7314,
        'Biloxi, MS': -0.1426,
        'Birmingham, AL': -0.0502,
        'Black Hills HCS, SD': 0.2826,
        'Boise, ID': 0.0158,
        'Boston HCS, MA': -0.1831,
        'Bronx, NY': -0.4276,
        'Buffalo, NY': 0.3041,
        'Butler, PA': -0.058,
        'Central Texas HCS, TX': 0.2061,
        'Charleston, SC': 0.0484,
        'Cheyenne, WY': 0.5759,
        'Chicago HCS, IL': -0.6311,
        'Chillicothe, OH': -0.3507,
        'Cincinnati, OH': -0.0877,
        'Clarksburg, WV': -0.1886,
        'Cleveland, OH': -0.3423,
        'Coatesville, PA': 0.3017,
        'Columbia, SC': -0.0971,
        'Columbus, OH': 0.0538,
        'Connecticut HCS, CT': 0.1108,
        'Dallas, TX': 0.149,
        'Danville, IL': 0.0596,
        'Dayton, OH': 0.1189,
        'Denver, CO': 0.5507,
        'Detroit, MI': -0.2648,
        'Dublin, GA': -0.3097,
        'Durham, NC': -0.4167,
        'El Paso, TX': 0.3876,
        'Erie, PA': -0.3092,
        'Fargo, ND': 0.0919,
        'Fayetteville, AR': 0.0537,
        'Fayetteville, NC': 0.0127,
        'Fresno, CA': 0.4771,
        'Gainesville, FL': -0.062,
        'Grand Junction, CO': 0.3763,
        'Hampton, VA': 0.0824,
        'Hines, IL': -0.2103,
        'Honolulu, HI': -0.504,
        'Houston, TX': -0.1163,
        'Hudson Valley HCS, NY': -0.1425,
        'Huntington, WV': -0.3419,
        'Indianapolis, IN': 0.0169,
        'Iron Mountain, MI': -0.7726,
        'Jackson, MS': -0.15,
        'Kansas City, MO': 0.1832,
        'Las Vegas, NV': -0.117,
        'Lebanon, PA': 0.2104,
        'Lexington, KY': 0.4308,
        'Little Rock, AR': 0.0275,
        'Loma Linda, CA': -0.0148,
        'Long Beach, CA': -0.4466,
        'Los Angeles HCS, CA': 0.0132,
        'Louisville, KY': 0.0333,
        'Madison, WI': 0.3693,
        'Manchester, NH': 0.3615,
        'Manila, PI': 1.4896,
        'Martinsburg, WV': -0.1112,
        'Memphis, TN': 0.4398,
        'Miami, FL': -0.44,
        'Mid Tenn. HCS, TN': 0.0826,
        'Milwaukee, WI': -0.3051,
        'Minneapolis, MN': 0.1016,
        'Montana HCS, MT': 0.4934,
        'Montgomery, AL': -0.437,
        'Mountain Home, TN': -0.2002,
        'Muskogee, OK': 0.13,
        'NY Harbor HCS, NY': -0.7339,
        'Nebraska-W Iowa, NE': 0.2728,
        'New Jersey HCS, NJ': -0.5394,
        'New Orleans, LA': -0.0539,
        'North Arizona HCS, AZ': 0.2502,
        'North Calif HCS, CA': 0.1236,
        'North Chicago, IL': -0.5254,
        'North Indiana HCS, IN': -0.5478,
        'Northampton, MA': -0.5482,
        'Northport, NY': -0.4633,
        'Oklahoma City, OK': 0.6176,
        'Orlando, FL': -0.4444,
        'Palo Alto, CA': 0.4037,
        'Philadelphia, PA': -0.2557,
        'Phoenix, AZ': -0.1953,
        'Pittsburgh, PA': -0.1166,
        'Portland, OR': 0.3694,
        'Providence, RI': -0.0523,
        'Puget Sound HCS, WA': 0.2847,
        'Reno, NV': 0.2431,
        'Richmond, VA': -0.0868,
        'Roseburg, OR': 0.2185,
        'Saginaw, MI': -0.3508,
        'Salem, VA': 0.2889,
        'Salisbury, NC': -0.4173,
        'Salt Lake City, UT': 0.2169,
        'San Diego, CA': 0.2306,
        'San Francisco, CA': 0.2774,
        'San Juan, PR': -0.5978,
        'Sheridan, WY': 0.4957,
        'Shreveport, LA': 0.2488,
        'Sioux Falls, SD': -0.2765,
        'South Arizona HCS, AZ': 1.0559,
        'South Texas HCS, TX': 0.0858,
        'Spokane, WA': 0.2003,
        'St. Cloud, MN': -0.0922,
        'St. Louis, MO': -0.1054,
        'Tampa, FL': 0.0184,
        'Texas Valley Coast HCS': -0.4215,
        'Togus, ME': -0.3641,
        'Tomah, WI': 0.2085,
        'Tuscaloosa, AL': -0.4111,
        'Walla Walla, WA': 0.3889,
        'Washington, DC': -0.0021,
        'West Palm Beach, FL': -0.4482,
        'White City, OR': -0.033,
        'White River Jct., VT': 0.4138,
        'Wilkes-Barre, PA': 0.1324
      },
      d_grade_by_step =  'occ_' + d.occ + '_grade_' + d.grade + '_step_' + d.step,
      c;


  c = grade_by_step[d_grade_by_step];
  logit += c ? c : grade_by_step['ALL OTHER ' + d.occ];

  c = grade_by_step_X_aptyrs[d_grade_by_step];
  logit += c ? c * d.aptyrs : grade_by_step_X_aptyrs['ALL OTHER ' + d.occ] * d.aptyrs;

  logit += performance[d.performance] || 0;

  logit += vamc[d.vamc] || 0;

  logit += d.unemployment * 100 * -0.0397;

  logit += d.aptyrs * -0.1616;

  return 1/(1 + Math.exp(-logit));
}