var model_formula = function(d){
	var grade_x_step = {
		'1':  {
			'01': 6.5685,
			'02': -0.6905,
			'03': 7.6749,
			'04': 7.5227,
			'05': 8.3059,
			'06': 8.6541,
			'07': 8.6269,
			'08': 8.5112,
			'09': 8.5037,
			'10': 8.7043,
			'11': 8.5926,
			'12': 8.7658,
			'13': 8.8018,
			'14': 9.0554,
			'X': 8.9637
		},
		'2': {
			'01': 8.6123,
			'02': 8.5967,
			'03': 8.7777,
			'04': 8.7633,
			'05': 8.8097,
			'06': 8.7386,
			'07': 8.9142,
			'08': 8.842,
			'09': 8.887,
			'10': 9.0147,
			'11': 8.9322,
			'12': 8.9049,
			'13': 8.8893,
			'14': 8.9844,
			'X': 9.0511
		},
		'3': {
			'01': 7.6883,
			'02': 8.5745,
			'03': 8.6699,
			'04': 8.7978,
			'05': 8.3683,
			'06': 8.6576,
			'07': 8.7311,
			'08': 8.8013,
			'09': 8.6432,
			'10': 8.9043,
			'11': 8.773,
			'12': 8.8115,
			'13': 8.684,
			'14': 8.8942,
			'X':  8.6791
		},
		'4': {
			'01': 6.1262,
			'02': 7.5417,
			'03': 8.0589,
			'04': 8.9039,
			'05': 8.8506,
			'06': 8.703,
			'07': 9.0522,
			'08': 8.4256,
			'09': 8.9902,
			'10': 8.5285,
			'11': 8.9477,
			'12': 8.8662,
			'13': -30.2011,
			'14':  0,
			'X': -5.1313
		},
		'5': {
			'01': 6.6962,
			'02': 7.6247,
			'03': 8.6298,
			'04': 8.9638,
			'05': 8.8955,
			'06': 9.0284,
			'07': 9.0181,
			'08': 9.019,
			'09': 9.0447,
			'10': 8.6852,
			'11': 9.376,
			'12': 8.5122,
			'14': 0
		},
		'6': {
			'01': 9.8145,
			'02': 9.4512,
			'03': 8.6439,
			'04': 8.9245,
			'05': 9.2211,
			'06': 9.1354,
			'07': 9.1914,
			'08': 9.0473,
			'09': 8.8916,
			'10': 8.9169
		},
		'99': {
			'01': 2.6536,
			'02': 1.4947,
			'03': 0.4108,
			'04': 9.1343,
			'05': 8.667,
			'06': 8.7373,
			'07': 8.7596,
			'08': 8.5484,
			'09': 8.5795,
			'10': 0
		}
	},
	c = -29.9787,
	g = grade_x_step[d.grade];

	if(g && g[d.step])
		c += g[d.step];

	c += d.age * 0.2927;
	c += d.age * d.tenure * -0.0052;
	c += d.tenure * 0.3713;

	return 1/(1 + Math.exp(-c));
}